This is an R wrapper for the MKonline API.

The package is still in early beta.

Make sure to use an unimportant password when using the API.

There are two main functions:

-   mk\_list\_files: This function downloads a list of available documents for download.
-   mk\_download\_file: This function downloads a file based on the key (mk\_file) and the area (mk\_area) listed in the returned object from the function mk\_list\_files.

First, load a few packages.

``` r
library(mkonline)
library(magrittr)
```

List the available files:

``` r
mk_list_files(mk_user = mk_user, mk_password = mk_password, only_accessible = FALSE, time_zone = "GMT") %>% head()
```

    ##   access         category                                     filename
    ## 1  false Coal and Freight Coal Freight Price Forecast Perret Quarterly
    ## 2  false Coal and Freight    Coal Freight Price Forecast Perret Yearly
    ## 3  false Coal and Freight               Coal Freight Spot Price Perret
    ## 4  false Coal and Freight                     Coal inventories monthly
    ## 5  false Coal and Freight                      Coal inventories weekly
    ## 6  false Coal and Freight                 Coal Replacement Cost Perret
    ##                          areaname                     key area
    ## 1 Amsterdam - Rotterdam - Antwerp      COA_PRI_PERRET_Q_F  ara
    ## 2 Amsterdam - Rotterdam - Antwerp      COA_PRI_PERRET_Y_F  ara
    ## 3 Amsterdam - Rotterdam - Antwerp      COA_PRI_PERRET_D_A  ara
    ## 4 Amsterdam - Rotterdam - Antwerp      COA_INV_PERRET_M_S  ara
    ## 5 Amsterdam - Rotterdam - Antwerp      COA_INV_PERRET_W_S  ara
    ## 6 Amsterdam - Rotterdam - Antwerp COA_RPL_COST_PERRET_D_S  ara
    ##               updated
    ## 1 2015-05-29 09:56:00
    ## 2 2015-05-29 09:56:00
    ## 3 2015-05-29 09:56:00
    ## 4 2015-05-29 09:00:00
    ## 5 2015-05-29 09:00:00
    ## 6 2015-05-29 09:56:00

``` r
mk_list_files(mk_user = mk_user, mk_password = mk_password, only_accessible = TRUE, time_zone = "GMT") %>% head()
```

    ## Source: local data frame [6 x 7]
    ## 
    ##   access    category                  filename               areaname
    ## 1   true Consumption Consumption Hourly Actual Central Eastern Europe
    ## 2   true Consumption Consumption Hourly Actual Central Western Europe
    ## 3   true Consumption Consumption Hourly Actual      Iberian Peninsula
    ## 4   true Consumption Consumption Hourly Actual                  Italy
    ## 5   true Consumption Consumption Hourly Actual              Nord Pool
    ## 6   true Consumption Consumption Hourly Actual      South East Europe
    ## Variables not shown: key (chr), area (chr), updated (time)

Download the files:

``` r
mk_download_file(mk_user = mk_user, mk_password = mk_password, mk_file = "PRO_WND_H_N", mk_area = "np") %>% str()
```

    ## Data from MKonline.com Updated: ,2015-05-29 01:44, Descriptive name: ,Wind Power Production Hourly Normal, Update frequency,When required, Data Frequency,MWh Hourly,Timezone:,Europe/Oslo,Classes 'tbl_df' and 'data.frame':    43848 obs. of  17 variables:
    ##  $ date                           : chr  "2014-01-01 00:00" "2014-01-01 01:00" "2014-01-01 02:00" "2014-01-01 03:00" ...
    ##  $ pro_npa_wnd_normal_mk02_mwh_h_n: num  3643 3654 3640 3631 3626 ...
    ##  $ pro_se_wnd_normal_mk02_mwh_h_n : num  1402 1401 1393 1394 1394 ...
    ##  $ pro_no_wnd_normal_mk02_mwh_h_n : num  327 327 326 324 325 ...
    ##  $ pro_dk_wnd_normal_mk02_mwh_h_n : num  1660 1671 1664 1658 1654 ...
    ##  $ pro_dk1_wnd_normal_mk02_mwh_h_n: num  1297 1307 1300 1296 1294 ...
    ##  $ pro_dk2_wnd_normal_mk02_mwh_h_n: num  362 365 363 361 360 ...
    ##  $ pro_fi_wnd_normal_mk02_mwh_h_n : num  254 255 256 255 253 ...
    ##  $ pro_se1_wnd_normal_mk02_mwh_h_n: num  106 106 107 108 109 ...
    ##  $ pro_se2_wnd_normal_mk02_mwh_h_n: num  271 270 266 265 267 ...
    ##  $ pro_se3_wnd_normal_mk02_mwh_h_n: num  586 586 584 585 584 ...
    ##  $ pro_se4_wnd_normal_mk02_mwh_h_n: num  439 439 437 436 434 ...
    ##  $ pro_no1_wnd_normal_mk02_mwh_h_n: logi  NA NA NA NA NA NA ...
    ##  $ pro_no2_wnd_normal_mk02_mwh_h_n: num  51.7 52.1 51.2 50.1 50.3 50.8 50.3 49.2 48.8 48.7 ...
    ##  $ pro_no3_wnd_normal_mk02_mwh_h_n: num  128 127 127 127 126 ...
    ##  $ pro_no4_wnd_normal_mk02_mwh_h_n: num  68.6 68.1 67.5 67.6 68.1 67.9 66.9 66.8 67.2 67.3 ...
    ##  $ pro_no5_wnd_normal_mk02_mwh_h_n: num  79.4 80 80.4 80 80.1 80.5 80.5 80.6 80.7 80.4 ...

``` r
mk_download_file(mk_user = mk_user, mk_password = mk_password, mk_file = "WND_CAP_D_AF", mk_area = "np") %>% str()
```

    ## Data from MKonline.com Updated: ,2015-05-29 01:44, Descriptive name: ,Wind Power Installed Capacity, Update frequency,When required, Data Frequency,MWh Hourly,Timezone:,Europe/Oslo,Classes 'tbl_df' and 'data.frame':  3289 obs. of  17 variables:
    ##  $ date                         : chr  "2012-01-02" "2012-01-03" "2012-01-04" "2012-01-05" ...
    ##  $ cap_npa_wnd_total_mk02_mw_d_a: num  7482 7484 7485 7487 7488 ...
    ##  $ cap_se_wnd_total_mk02_mw_d_a : num  2784 2785 2786 2787 2788 ...
    ##  $ cap_no_wnd_total_mk02_mw_d_a : num  547 547 547 548 548 ...
    ##  $ cap_dk_wnd_total_mk02_mw_d_a : num  3952 3952 3952 3952 3952 ...
    ##  $ cap_dk1_wnd_total_mk02_mw_d_a: num  2952 2952 2952 2952 2952 ...
    ##  $ cap_dk2_wnd_total_mk02_mw_d_a: num  1000 1000 1000 1000 1000 ...
    ##  $ cap_fi_wnd_total_mk02_mw_d_a : num  199 200 200 200 200 ...
    ##  $ cap_se1_wnd_total_mk02_mw_d_a: num  151 151 151 151 151 151 151 151 151 151 ...
    ##  $ cap_se2_wnd_total_mk02_mw_d_a: num  521 522 522 523 524 ...
    ##  $ cap_se3_wnd_total_mk02_mw_d_a: num  1269 1269 1269 1270 1270 ...
    ##  $ cap_se4_wnd_total_mk02_mw_d_a: num  843 843 844 844 844 ...
    ##  $ cap_no1_wnd_total_mk02_mw_d_a: num  0 0 0 0 0 0 0 0 0 0 ...
    ##  $ cap_no2_wnd_total_mk02_mw_d_a: num  77.7 77.9 78.1 78.3 78.5 78.7 78.9 79.1 79.3 79.5 ...
    ##  $ cap_no3_wnd_total_mk02_mw_d_a: num  330 330 330 330 330 ...
    ##  $ cap_no4_wnd_total_mk02_mw_d_a: num  114 114 114 114 114 ...
    ##  $ cap_no5_wnd_total_mk02_mw_d_a: num  24.7 24.7 24.7 24.7 24.7 24.7 24.7 24.7 24.7 24.7 ...

You can access the info attribute by using the attr function.
